平成17年6月24日
古田　和志
チャットソフト仕様書

１．	要求仕様
クライアントがサーバを介し、TCP/IP通信により、多人数でリアルタイムの文字による会話を行うことができる。また、クライアント側のプログラムは全て同一のものとし、クライアントが変わることでプログラムの変更がいらないようにする。

２．	各プログラムの機能
このソフトウェアはserver.c・client.c・input.c・output.cの４つのプログラムから構成される。以下にそれぞれの機能を記す。
①	server.c
・	TCP/IP通信のためのソケットを開く。
・	開いたソケットをコネクトがあったクライアント用に作り、その際にクライアントナンバーを割り振る。
・	一定時間接続がなかった場合にはクライアントの受付を終了する。
・	client.cから送信があった文字列を送信があったclient.c以外に送信する。
②	client.c
・	サーバにTCP/IP通信で接続し、クライアントナンバーを受け取る。
・	受け取ったクライアントナンバーから、ユニークなメッセージキューの名前を作成し共有メモリに送信する。
・	Input.cから受信したメッセージの先頭にクライアントナンバーをつけ、TCP/IP通信でserver.cに送信、メッセージキューでoutput.cに送信する。
③	input.c
・	共有メモリからメッセージキューの名前を取り出しメッセージキューを作る。
・	文字列の入力をする。
・	入力された文字列をメッセージキューでclient.cに送信する。
④	output.c
・	共有メモリからメッセージキューの名前を取り出しメッセージキューを作る。
・	client.cから文字列の受信をする。
・	文字列の表示をする。表示の際にどのクライアントからの送信か区別するためにクライアントナンバーを表示する。

以上

